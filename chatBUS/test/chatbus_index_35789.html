<!DOCTYPE html>
<html>
    <head>
        <title>chatBus</title>
        <link rel="stylesheet" type="text/css" href="chatbus_styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <div id="id-chat" class="chat closed">

                <h1 class="chat-row">Chat humano</h1>
                <iframe frameborder="0" src="https://libraryh3lp.com/chat/alfinchat@chat.libraryh3lp.com?skin=35789&amp;identity=librarian&amp;sounds=1" class="chat-iframe"></iframe>

            <div class="chat-row button-group">
                <button id="id-chat-human" class="icon-btn  active" data-src="https://libraryh3lp.com/chat/alfinchat@chat.libraryh3lp.com?skin=35789&amp;identity=librarian&amp;sounds=1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-people" viewBox="0 0 16 16">
                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"/>
                      </svg>
                </button>
                <button id="id-chat-bot" class="icon-btn" data-src="https://elephant.ai/bot?id=e3bca7b803a04c4d91fdd62fd73ecbd5">
                    <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-robot" viewBox="0 0 16 16">
                        <path d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"/>
                        <path d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"/>
                    </svg>
                </button>
                <button id="id-chat-mail" class="icon-btn" data-src="chatbus_mailto.html">
                    <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-envelope" viewBox="0 0 16 16">
                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
                    </svg>
                </button>
            </div>
        </div>
        <div id="id-chat-btn" class="btn-toggle-chat">
            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
                <path d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
            </svg>
        </div>
    </body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            function toggleChat() {
                let chat = document.getElementById('id-chat');
                chat.classList.toggle('closed');
                chat.classList.toggle('open');
            }

            let chatBtn = document.getElementById('id-chat-btn');
            let chatHeader = document.querySelector("h1.chat-row");
            let iframe = document.querySelector(".chat-iframe");
            let buttons = document.querySelectorAll(".button-group button");

            chatBtn.addEventListener("click", toggleChat);

            buttons.forEach(button => {
                button.addEventListener("click", function() {
                    iframe.src = this.getAttribute("data-src");

                    // Cambiar el texto del h1 según el botón presionado
                    switch (this.id) {
                        case "id-chat-human":
                            chatHeader.textContent = "Chat humano";
                            break;
                        case "id-chat-bot":
                            chatHeader.textContent = "Chat robótico";
                            break;
                        case "id-chat-mail":
                            chatHeader.textContent = "Pregunte por mail";
                            break;
                    }
                });
            });

            document.querySelectorAll('.icon-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Eliminar la clase 'active' de todos los botones
                    document.querySelectorAll('.icon-btn').forEach(innerBtn => {
                        innerBtn.classList.remove('active');
                    });
                    
                    // Añadir la clase 'active' al botón clicado
                    this.classList.add('active');
                });
            });
        });

    </script>
</html>